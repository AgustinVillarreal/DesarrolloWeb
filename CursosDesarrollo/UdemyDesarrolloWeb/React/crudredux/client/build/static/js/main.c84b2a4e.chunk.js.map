{"version":3,"sources":["config/axios.js","types/index.js","actions/productosActions.js","components/EditarProducto.js","components/Header.js","actions/alertaActions.js","components/NuevoProducto.js","components/Producto.js","components/Productos.js","reducers/productosReducer.js","reducers/alertaReducer.js","reducers/index.js","store.js","App.js","reportWebVitals.js","index.js"],"names":["clienteAxios","axios","create","baseURL","AGREGAR_PRODUCTO","AGREGAR_PRODUCTO_EXITO","AGREGAR_PRODUCTO_ERROR","COMENZAR_DESCARGA_PRODUCTOS","DESCARGA_PRODUCTO_ERROR","DESCARGA_PRODUCTO_EXITO","OBTENER_PRODUCTO_ELIMINAR","PRODUCTO_ELIMINADO_EXITO","PRODUCTO_ELIMINADO_ERROR","OBTENER_PRODUCTO_EDITAR","PRODUCTO_EDITADO_EXITO","PRODUCTO_EDITADO_ERROR","MOSTRAR_ALERTA","OCULTAR_ALERTA","editarProductoError","type","payload","editarProductoExito","producto","editarProducto","obtenerProductoEditar","eliminarProductoError","eliminarProductoExito","obtenerProductoEliminar","id","agregarProducto","agregarProductoExito","agregarProductoError","booleanState","descargarProductos","obtenerProductosExito","productos","obtenerProductosError","EditarProducto","dispatch","useDispatch","history","useHistory","useState","nombre","precio","setProducto","productoEditar","useSelector","state","useEffect","handleChange","e","target","name","value","className","onSubmit","preventDefault","a","put","editarProductoAction","push","placeholder","onChange","Header","to","ocultarAlerta","mostrarAlerta","alerta","NuevoProducto","setNombre","setPrecio","loading","error","post","Swal","fire","console","log","icon","title","text","crearNuevoProductoAction","classes","msg","trim","mostrarAlertaAction","Number","Producto","confirmarEliminarProducto","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","delete","eliminarProductoAction","redireccionarEdicion","obtenerProductoEditarAction","onClick","Productos","get","respuesta","data","scope","length","map","initialState","productoEliminar","combineReducers","action","filter","store","createStore","reducer","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","f","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c84b2a4e.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst clienteAxios = axios.create({\r\n  baseURL: 'https://json-server-reduxcurd.herokuapp.com/'\r\n});\r\n\r\nexport default clienteAxios","export const AGREGAR_PRODUCTO = 'AGREGAR_PRODUCTO'\r\nexport const AGREGAR_PRODUCTO_EXITO = 'AGREGAR_PRODUCTO_EXITO'\r\nexport const AGREGAR_PRODUCTO_ERROR = 'AGREGAR_PRODUCTO_ERROR'\r\n\r\nexport const COMENZAR_DESCARGA_PRODUCTOS = 'COMENZAR_DESCARGA_PRODUCTOS'\r\nexport const DESCARGA_PRODUCTO_ERROR = 'DESCARGA_PRODUCTO_ERROR'\r\nexport const DESCARGA_PRODUCTO_EXITO = 'DESCARGA_PRODUCTO_EXITO'\r\n\r\nexport const OBTENER_PRODUCTO_ELIMINAR = 'OBTENER_PRODUCTO_ELIMINAR'\r\nexport const PRODUCTO_ELIMINADO_EXITO = 'PRODUCTO_ELIMINADO_EXITO'\r\nexport const PRODUCTO_ELIMINADO_ERROR = 'PRODUCTO_ELIMINADO_ERROR'\r\n\r\nexport const OBTENER_PRODUCTO_EDITAR = 'OBTENER_PRODUCTO_EDITAR'\r\nexport const PRODUCTO_EDITADO_EXITO = 'PRODUCTO_EDITADO_EXITO'\r\nexport const PRODUCTO_EDITADO_ERROR = 'PRODUCTO_EDITADO_ERROR'\r\nexport const COMENZAR_EDICION_PRODUCTO ='COMENZAR_EDICION_PRODUCTO'\r\n\r\nexport const MOSTRAR_ALERTA = 'MOSTRAR_ALERTA'\r\nexport const OCULTAR_ALERTA = 'OCULTAR_ALERTA'","import clienteAxios from \"../config/axios\";\r\nimport {\r\n  AGREGAR_PRODUCTO,\r\n  AGREGAR_PRODUCTO_EXITO,\r\n  AGREGAR_PRODUCTO_ERROR,\r\n  COMENZAR_DESCARGA_PRODUCTOS,\r\n  DESCARGA_PRODUCTO_ERROR,\r\n  DESCARGA_PRODUCTO_EXITO,\r\n  OBTENER_PRODUCTO_ELIMINAR,\r\n  PRODUCTO_ELIMINADO_EXITO,\r\n  PRODUCTO_ELIMINADO_ERROR,\r\n  OBTENER_PRODUCTO_EDITAR,\r\n  PRODUCTO_EDITADO_EXITO,\r\n  PRODUCTO_EDITADO_ERROR,\r\n  COMENZAR_EDICION_PRODUCTO\r\n} from \"../types\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n// Crear nuevos productos\r\nexport function crearNuevoProductoAction(producto) {\r\n  return async (dispatch) => {\r\n    dispatch(agregarProducto());\r\n\r\n    try {\r\n      //insertar en la API o db\r\n      await clienteAxios.post(\"/productos\", producto);\r\n\r\n      // Si todo sale bien, actualizar el state\r\n      dispatch(agregarProductoExito(producto));\r\n\r\n      //Alerta\r\n      Swal.fire(\"Correcto\", \"El producto se agrego correctamente\", \"success\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      // si hay un error, cambiar el state\r\n      dispatch(agregarProductoError(true));\r\n\r\n      //Alerta\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Hubo un error\",\r\n        text: \"Hubo un error, intente de nuevo\",\r\n      });\r\n    }\r\n  };\r\n}\r\n\r\n//Funcion que descarga los productos de la base de datos\r\nexport function obtenerProductosAction() {\r\n  return async (dispatch) => {\r\n    dispatch(descargarProductos());\r\n\r\n    try {\r\n      const respuesta = await clienteAxios.get(\"/productos\");\r\n      dispatch(obtenerProductosExito(respuesta.data));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(obtenerProductosError());\r\n    }\r\n  };\r\n}\r\n\r\n//Selecciona y eliminar el producto\r\nexport function eliminarProductoAction(id) {\r\n  return async (dispatch) => {\r\n    dispatch(obtenerProductoEliminar(id));\r\n\r\n    try {\r\n      await clienteAxios.delete(`/productos/${id}`);\r\n      dispatch(eliminarProductoExito());\r\n\r\n      //Si se elimina, mostramos alerta\r\n      Swal.fire(\r\n        \"Eliminado!\",\r\n        \"Tu producto a sido eliminado correctamente.\",\r\n        \"success\"\r\n      );\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(eliminarProductoError());\r\n    }\r\n  };\r\n}\r\n\r\n// Colocar producto en edicion\r\nexport function obtenerProductoEditarAction(producto) {\r\n  return (dispatch) => {\r\n    dispatch (obtenerProductoEditar(producto))\r\n  }\r\n}\r\n\r\n// Edita un registro en la api y state\r\nexport function editarProductoAction(producto) {\r\n  return async (dispatch) => {\r\n    dispatch( editarProducto());\r\n\r\n    try {\r\n      await clienteAxios.put(`/productos/${producto.id}`, producto)\r\n      dispatch( editarProductoExito(producto) )\r\n    } catch (error) {\r\n      dispatch( editarProductoError() )\r\n    }\r\n  }\r\n}\r\n\r\nconst editarProductoError = () => ({\r\n  type: PRODUCTO_EDITADO_ERROR,\r\n  payload: true\r\n})\r\n\r\nconst editarProductoExito = producto => ({\r\n  type: PRODUCTO_EDITADO_EXITO,\r\n  payload: producto\r\n})\r\n\r\nconst editarProducto =  () => ({\r\n  type: COMENZAR_EDICION_PRODUCTO\r\n})\r\n\r\nconst obtenerProductoEditar = producto => ({\r\n  type: OBTENER_PRODUCTO_EDITAR,\r\n  payload: producto\r\n})\r\n\r\nconst eliminarProductoError = () => ({\r\n  type: PRODUCTO_ELIMINADO_ERROR,\r\n  payload: true,\r\n});\r\n\r\nconst eliminarProductoExito = () => ({\r\n  type: PRODUCTO_ELIMINADO_EXITO,\r\n});\r\n\r\nconst obtenerProductoEliminar = (id) => ({\r\n  type: OBTENER_PRODUCTO_ELIMINAR,\r\n  payload: id,\r\n});\r\n\r\nconst agregarProducto = () => ({\r\n  type: AGREGAR_PRODUCTO,\r\n  payload: true,\r\n});\r\n\r\n// si el producto se guarda en la base de datos\r\nconst agregarProductoExito = (producto) => ({\r\n  type: AGREGAR_PRODUCTO_EXITO,\r\n  payload: producto,\r\n});\r\n\r\n// si hubo un error\r\n\r\nconst agregarProductoError = (booleanState) => ({\r\n  type: AGREGAR_PRODUCTO_ERROR,\r\n  payload: booleanState,\r\n});\r\n\r\nconst descargarProductos = () => ({\r\n  type: COMENZAR_DESCARGA_PRODUCTOS,\r\n  payload: true,\r\n});\r\n\r\nconst obtenerProductosExito = (productos) => ({\r\n  type: DESCARGA_PRODUCTO_EXITO,\r\n  payload: productos,\r\n});\r\n\r\nconst obtenerProductosError = () => ({\r\n  type: DESCARGA_PRODUCTO_ERROR,\r\n  payload: true,\r\n});\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router';\r\nimport {editarProductoAction} from '../actions/productosActions'\r\n\r\nconst EditarProducto = () => {\r\n\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  // nuevo state de producto\r\n  const [producto, setProducto] = useState({\r\n    nombre: '',\r\n    precio: '',\r\n  })\r\n  const {nombre, precio} = producto;\r\n\r\n\r\n  // producto a editar\r\n  const {productoEditar} = useSelector(state => state.productos)\r\n\r\n  // llenar el state automaticamente\r\n  useEffect(() => {\r\n    setProducto(productoEditar)\r\n  }, [productoEditar])\r\n  \r\n  // Leer los datos del form\r\n  const handleChange = e => {\r\n    setProducto({\r\n      ...producto,\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  const submitEditarProducto = e => {\r\n    e.preventDefault();\r\n\r\n    dispatch(editarProductoAction(producto))\r\n    history.push('/')\r\n    \r\n  }\r\n\r\n  return (  \r\n    <div className=\"row justify-content-center\">\r\n      <div className=\"col-md-8\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <h2 className=\"text-center mb-4 font-weight-bold\">\r\n              Editar Producto\r\n            </h2>\r\n            <form\r\n              onSubmit={submitEditarProducto}\r\n            >\r\n              <div className=\"form-group\">\r\n                <label>Nombre Producto</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"nombre\"\r\n                  placeholder=\"Nombre Producto\"\r\n                  value = {nombre}\r\n                  onChange= {handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Precio Producto</label>\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"form-control\"\r\n                  name=\"precio\"\r\n                  placeholder=\"Precio Producto\"\r\n                  value = {precio}\r\n                  onChange= {handleChange}\r\n                />\r\n              </div>\r\n\r\n              <button type=\"submit\" className=\"btn btn-primary d-block w-100 text-uppercase font-weight-bold\">\r\n                Guardar Cambios\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default EditarProducto;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary justify-content-between\">\r\n      <div className=\"container\">\r\n        <Link to={\"/\"} className=\"text-light\">\r\n          CRUD - React, Redux, REST API & Axios\r\n        </Link>\r\n      </div>\r\n\r\n      <Link\r\n        className=\"btn btn-danger nuevo-post d-block d-md-inline-block\"\r\n        to={\"/productos/nuevo\"}\r\n      >\r\n        Agregar Producto &#43;\r\n      </Link>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { MOSTRAR_ALERTA, OCULTAR_ALERTA } from \"../types\";\r\n\r\n//Muestra alerta\r\nexport function mostrarAlertaAction(alerta) {\r\n  return (dispatch) => {\r\n    dispatch( mostrarAlerta(alerta) )\r\n  }\r\n}\r\n\r\n// ocultar alerta\r\nexport function ocultarAlertaAction() {\r\n  return dispatch => {\r\n    dispatch( ocultarAlerta() )\r\n  }\r\n}\r\n\r\nconst ocultarAlerta = () => ({\r\n  type: OCULTAR_ALERTA\r\n})\r\n\r\nconst mostrarAlerta = alerta => ({\r\n  type: MOSTRAR_ALERTA,\r\n  payload: alerta\r\n})","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\n//Actions de Redux\r\nimport { crearNuevoProductoAction } from '../actions/productosActions'\r\nimport { mostrarAlertaAction, ocultarAlertaAction } from '../actions/alertaActions'\r\n\r\n\r\n\r\nconst NuevoProducto = ({history}) => {\r\n\r\n  //state del componente\r\n  const [nombre, setNombre] = useState('');\r\n  const [precio, setPrecio] = useState('');\r\n\r\n  // utilizar useDispatch y crear una funcion\r\n  const dispatch = useDispatch();\r\n\r\n  // Acceder al state del store\r\n  const {loading, error} = useSelector((state) => state.productos)\r\n  const {alerta} = useSelector((state) => state.alerta)\r\n\r\n  // llamar el action para crear un nuevo producto\r\n  const agregarProducto = (producto) => dispatch( crearNuevoProductoAction(producto) )\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n  \r\n    //Validar formulario\r\n    if(nombre.trim() === '' || precio <= 0 ){\r\n\r\n      const alerta = {\r\n        msg: \"Ambos campos son obligatorios\",\r\n        classes: 'alert alert-danger text-center text-uppercase p3'\r\n      }\r\n\r\n      dispatch(mostrarAlertaAction(alerta))\r\n\r\n      return;\r\n      \r\n    }\r\n    // si no hay errores\r\n    dispatch( ocultarAlertaAction())\r\n  \r\n    // crear el nuevo producto\r\n    agregarProducto({\r\n      nombre, \r\n      precio\r\n    });\r\n\r\n    // redireccionar\r\n    history.push('/')\r\n  }\r\n\r\n  return (\r\n    <div className=\"row justify-content-center\">\r\n      <div className=\"col-md-8\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <h2 className=\"text-center mb-4 font-weight-bold\">\r\n              Agregar Nuevo Producto\r\n            </h2>\r\n            {alerta && <p className={alerta.classes}> {alerta.msg} </p>}\r\n            <form\r\n              onSubmit={handleSubmit}\r\n            >\r\n              <div className=\"form-group\">\r\n                <label>Nombre Producto</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"nombre\"\r\n                  placeholder=\"Nombre Producto\"\r\n                  value = {nombre}\r\n                  onChange = { e => setNombre(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Precio Producto</label>\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"form-control\"\r\n                  name=\"precio\"\r\n                  placeholder=\"Precio Producto\"\r\n                  value = {precio}\r\n                  onChange = { e => setPrecio(Number(e.target.value))}\r\n                />\r\n              </div>\r\n\r\n              <button type=\"submit\" className=\"btn btn-primary d-block w-100 text-uppercase font-weight-bold\">\r\n                Agregar\r\n              </button>\r\n            </form>\r\n            { loading && <p> Cargando...</p>}\r\n            { error && <p className= 'alert alert-danger p2 mt-4 text-center'> Hubo un Error</p> }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NuevoProducto;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n//Redux\r\nimport { useDispatch } from \"react-redux\";\r\nimport { eliminarProductoAction, obtenerProductoEditarAction } from \"../actions/productosActions\";\r\n\r\nconst Producto = ({ producto }) => {\r\n  const { nombre, precio, id } = producto;\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory(); // Habilita history para redireccion\r\n\r\n  //Confirmar si desea eliminarlo\r\n  const confirmarEliminarProducto = (id) => {\r\n    // preguntar al usuario\r\n\r\n    Swal.fire({\r\n      title: \"Â¿Estas seguro?\",\r\n      text: \"Luego no podras recuperarlo!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Si, eliminar!\",\r\n      cancelButtonText: \"Cancelar\",\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        // pasarlo al action\r\n        dispatch(eliminarProductoAction(id));\r\n      }\r\n    });\r\n  };\r\n\r\n  //Redireccionar\r\n  const redireccionarEdicion = (producto) => {\r\n    dispatch(obtenerProductoEditarAction(producto))\r\n    history.push(`/productos/editar/${producto.id}`);\r\n  };\r\n\r\n  return (\r\n    <tr>\r\n      <td>{nombre}</td>\r\n      <td>\r\n        {\" \"}\r\n        <span className=\"font-weight-bold\"> $ {precio}</span>\r\n      </td>\r\n      <td className=\"acciones\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => redireccionarEdicion(producto)}\r\n          className=\"btn btn-primary mr-2\"\r\n        >\r\n          Editar\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-danger\"\r\n          onClick={() => confirmarEliminarProducto(id)}\r\n        >\r\n          Eliminar\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default Producto;\r\n","import React, { Fragment, useEffect } from \"react\";\r\n\r\n//Redux\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { obtenerProductosAction } from \"../actions/productosActions\";\r\n\r\nimport Producto from \"./Producto\";\r\n\r\nconst Productos = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    //Consultar la api\r\n    const cargarProductos = () => {\r\n      dispatch(obtenerProductosAction());\r\n    };\r\n    cargarProductos();\r\n\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  // obtener el state\r\n  const { productos, error, loading } = useSelector((state) => state.productos);\r\n\r\n  return (\r\n    <Fragment>\r\n      <h2 className=\"text-center my-5\"> Listado de Productos</h2>\r\n      {error && (\r\n        <p className=\"font-weight-bold alert alert-danger text-center mt-4\">\r\n          Hubo un error\r\n        </p>\r\n      )}\r\n      {loading && <p className=\"text-center\">Cargando...</p>}\r\n      <table className=\"table table-striped\">\r\n        <thead className=\"bg-primary table-dark\">\r\n          <tr>\r\n            <th scope=\"col\">Nombre</th>\r\n            <th scope=\"col\">Precio</th>\r\n            <th scope=\"col\">Acciones</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {productos.length === 0\r\n            ? <tr><th className='bg-white'>No hay productos</th></tr>\r\n            : productos.map((producto) => (\r\n                <Producto key={producto.id} producto={producto} />\r\n              ))}\r\n        </tbody>\r\n      </table>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Productos;\r\n","import {\r\n  AGREGAR_PRODUCTO,\r\n  AGREGAR_PRODUCTO_EXITO,\r\n  AGREGAR_PRODUCTO_ERROR,\r\n  COMENZAR_DESCARGA_PRODUCTOS,\r\n  DESCARGA_PRODUCTO_EXITO,\r\n  DESCARGA_PRODUCTO_ERROR,\r\n  OBTENER_PRODUCTO_ELIMINAR,\r\n  PRODUCTO_ELIMINADO_EXITO,\r\n  PRODUCTO_ELIMINADO_ERROR,\r\n  OBTENER_PRODUCTO_EDITAR,\r\n  PRODUCTO_EDITADO_EXITO,\r\n  PRODUCTO_EDITADO_ERROR,\r\n  COMENZAR_EDICION_PRODUCTO\r\n} from \"../types\";\r\n\r\n// Cada reducer tiene su propio state\r\nconst initialState = {\r\n  productos: [],\r\n  error: null,\r\n  loading: false,\r\n  productoEliminar: null,\r\n  productoEditar: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case COMENZAR_DESCARGA_PRODUCTOS:\r\n    case AGREGAR_PRODUCTO:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case AGREGAR_PRODUCTO_EXITO:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        productos: [...state.productos, action.payload],\r\n      };\r\n\r\n    case PRODUCTO_EDITADO_ERROR:\r\n    case DESCARGA_PRODUCTO_ERROR:\r\n    case AGREGAR_PRODUCTO_ERROR:\r\n    case PRODUCTO_ELIMINADO_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    case DESCARGA_PRODUCTO_EXITO:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        productos: action.payload,\r\n        error: null,\r\n      };\r\n\r\n    case OBTENER_PRODUCTO_ELIMINAR:\r\n      return {\r\n        ...state,\r\n        productoEliminar: action.payload,\r\n      };\r\n\r\n    case PRODUCTO_ELIMINADO_EXITO:\r\n      return {\r\n        ...state,\r\n        productos: state.productos.filter(\r\n          (producto) => producto.id !== state.productoEliminar\r\n        ),\r\n        productoEliminar: null,\r\n      };\r\n    \r\n    case OBTENER_PRODUCTO_EDITAR:\r\n      return{\r\n        ...state,\r\n        productoEditar: action.payload\r\n      }\r\n\r\n    case PRODUCTO_EDITADO_EXITO:\r\n      return{\r\n        ...state,\r\n        productoEditar: null,\r\n        productos: state.productos.map(producto => producto.id === action.payload.id ? producto = action.payload : producto)\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { MOSTRAR_ALERTA, OCULTAR_ALERTA } from \"../types\";\r\n\r\n// Cada reducer tiene su state\r\nconst initialState = {\r\n  alerta: null\r\n}\r\n\r\nexport default function(state = initialState, action){\r\n  switch(action.type){\r\n\r\n    case MOSTRAR_ALERTA:\r\n      return {\r\n        ...state,\r\n        alerta: action.payload\r\n      }\r\n\r\n    case OCULTAR_ALERTA: \r\n      return {\r\n        ...state,\r\n        alerta: null\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}","import { combineReducers } from 'redux';\r\nimport productosReducer from './productosReducer';\r\nimport alertaReducer from './alertaReducer'\r\n\r\nexport default combineReducers({\r\n  productos: productosReducer,\r\n  alerta: alertaReducer\r\n});","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport reducer from \"./reducers\";\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  compose(\r\n    applyMiddleware(thunk),\r\n\r\n    typeof window === \"object\" &&\r\n      typeof window.__REDUX_DEVTOOLS_EXTENSION__ !== \"undefined\"\r\n      ? window.__REDUX_DEVTOOLS_EXTENSION__()\r\n      : (f) => f\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport EditarProducto from \"./components/EditarProducto\";\n\nimport Header from \"./components/Header\";\nimport NuevoProducto from \"./components/NuevoProducto\";\nimport Productos from \"./components/Productos\";\n\n// Redux\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nfunction App() {\n  return (\n    <Router>\n      <Provider store={store}>\n        <Header />\n\n        <div className=\"container mt-5\">\n          <Switch>\n            <Route exact path=\"/\" component={Productos} />\n            <Route exact path=\"/productos/nuevo\" component={NuevoProducto} />\n            <Route\n              exact\n              path=\"/productos/editar/:id\"\n              component={EditarProducto}\n            />\n          </Switch>\n        </div>\n      </Provider>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}