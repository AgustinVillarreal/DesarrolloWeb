(this.webpackJsonpcrudredux=this.webpackJsonpcrudredux||[]).push([[0],{46:function(e,t,r){},86:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),a=r(20),o=r.n(a),s=(r(46),r(13)),u=r(4),i=r(21),l=r(3),d=r(18),b=r(6),j=r(11),p=r.n(j),O=r(19),f=r(39),m=r.n(f).a.create({baseURL:"https://json-server-reduxcurd.herokuapp.com/"}),h="AGREGAR_PRODUCTO",x="AGREGAR_PRODUCTO_EXITO",g="AGREGAR_PRODUCTO_ERROR",v="COMENZAR_DESCARGA_PRODUCTOS",y="DESCARGA_PRODUCTO_ERROR",N="DESCARGA_PRODUCTO_EXITO",E="OBTENER_PRODUCTO_ELIMINAR",R="PRODUCTO_ELIMINADO_EXITO",C="PRODUCTO_ELIMINADO_ERROR",_="OBTENER_PRODUCTO_EDITAR",T="PRODUCTO_EDITADO_EXITO",A="PRODUCTO_EDITADO_ERROR",P="MOSTRAR_ALERTA",w="OCULTAR_ALERTA",D=r(14),I=r.n(D);var k=function(){return{type:A,payload:!0}},S=function(e){return{type:T,payload:e}},U=function(){return{type:"COMENZAR_EDICION_PRODUCTO"}},L=function(e){return{type:_,payload:e}},G=function(){return{type:C,payload:!0}},B=function(){return{type:R}},X=function(e){return{type:E,payload:e}},M=function(){return{type:h,payload:!0}},F=function(e){return{type:x,payload:e}},H=function(e){return{type:g,payload:e}},J=function(){return{type:v,payload:!0}},V=function(e){return{type:N,payload:e}},Z=function(){return{type:y,payload:!0}},$=r(1),q=function(){var e=Object(b.b)(),t=Object(u.f)(),r=Object(c.useState)({nombre:"",precio:""}),n=Object(d.a)(r,2),a=n[0],o=n[1],s=a.nombre,j=a.precio,f=Object(b.c)((function(e){return e.productos})).productoEditar;Object(c.useEffect)((function(){o(f)}),[f]);var h=function(e){o(Object(l.a)(Object(l.a)({},a),{},Object(i.a)({},e.target.name,e.target.value)))};return Object($.jsx)("div",{className:"row justify-content-center",children:Object($.jsx)("div",{className:"col-md-8",children:Object($.jsx)("div",{className:"card",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Editar Producto"}),Object($.jsxs)("form",{onSubmit:function(r){r.preventDefault(),e(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(U()),t.prev=1,t.next=4,m.put("/productos/".concat(e.id),e);case 4:r(S(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),r(k());case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(a)),t.push("/")},children:[Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{children:"Nombre Producto"}),Object($.jsx)("input",{type:"text",className:"form-control",name:"nombre",placeholder:"Nombre Producto",value:s,onChange:h})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{children:"Precio Producto"}),Object($.jsx)("input",{type:"number",className:"form-control",name:"precio",placeholder:"Precio Producto",value:j,onChange:h})]}),Object($.jsx)("button",{type:"submit",className:"btn btn-primary d-block w-100 text-uppercase font-weight-bold",children:"Guardar Cambios"})]})]})})})})},z=function(){return Object($.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary justify-content-between",children:[Object($.jsx)("div",{className:"container",children:Object($.jsx)(s.b,{to:"/",className:"text-light",children:"CRUD - React, Redux, REST API & Axios"})}),Object($.jsx)(s.b,{className:"btn btn-danger nuevo-post d-block d-md-inline-block",to:"/productos/nuevo",children:"Agregar Producto +"})]})};var K=function(){return{type:w}},Q=function(e){return{type:P,payload:e}},W=function(e){var t=e.history,r=Object(c.useState)(""),n=Object(d.a)(r,2),a=n[0],o=n[1],s=Object(c.useState)(""),u=Object(d.a)(s,2),i=u[0],l=u[1],j=Object(b.b)(),f=Object(b.c)((function(e){return e.productos})),h=f.loading,x=f.error,g=Object(b.c)((function(e){return e.alerta})).alerta,v=function(e){return j(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(M()),t.prev=1,t.next=4,m.post("/productos",e);case 4:r(F(e)),I.a.fire("Correcto","El producto se agrego correctamente","success"),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),r(H(!0)),I.a.fire({icon:"error",title:"Hubo un error",text:"Hubo un error, intente de nuevo"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object($.jsx)("div",{className:"row justify-content-center",children:Object($.jsx)("div",{className:"col-md-8",children:Object($.jsx)("div",{className:"card",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Agregar Nuevo Producto"}),g&&Object($.jsxs)("p",{className:g.classes,children:[" ",g.msg," "]}),Object($.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===a.trim()||i<=0){j(function(e){return function(t){t(Q(e))}}({msg:"Ambos campos son obligatorios",classes:"alert alert-danger text-center text-uppercase p3"}))}else j((function(e){e(K())})),v({nombre:a,precio:i}),t.push("/")},children:[Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{children:"Nombre Producto"}),Object($.jsx)("input",{type:"text",className:"form-control",name:"nombre",placeholder:"Nombre Producto",value:a,onChange:function(e){return o(e.target.value)}})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{children:"Precio Producto"}),Object($.jsx)("input",{type:"number",className:"form-control",name:"precio",placeholder:"Precio Producto",value:i,onChange:function(e){return l(Number(e.target.value))}})]}),Object($.jsx)("button",{type:"submit",className:"btn btn-primary d-block w-100 text-uppercase font-weight-bold",children:"Agregar"})]}),h&&Object($.jsx)("p",{children:" Cargando..."}),x&&Object($.jsx)("p",{className:"alert alert-danger p2 mt-4 text-center",children:" Hubo un Error"})]})})})})},Y=function(e){var t=e.producto,r=t.nombre,c=t.precio,n=t.id,a=Object(b.b)(),o=Object(u.f)(),s=function(e){I.a.fire({title:"\xbfEstas seguro?",text:"Luego no podras recuperarlo!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!",cancelButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&a(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(X(e)),t.prev=1,t.next=4,m.delete("/productos/".concat(e));case 4:r(B()),I.a.fire("Eliminado!","Tu producto a sido eliminado correctamente.","success"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),r(G());case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))}))},i=function(e){a(function(e){return function(t){t(L(e))}}(e)),o.push("/productos/editar/".concat(e.id))};return Object($.jsxs)("tr",{children:[Object($.jsx)("td",{children:r}),Object($.jsxs)("td",{children:[" ",Object($.jsxs)("span",{className:"font-weight-bold",children:[" $ ",c]})]}),Object($.jsxs)("td",{className:"acciones",children:[Object($.jsx)("button",{type:"button",onClick:function(){return i(t)},className:"btn btn-primary mr-2",children:"Editar"}),Object($.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return s(n)},children:"Eliminar"})]})]})},ee=function(){var e=Object(b.b)();Object(c.useEffect)((function(){e(function(){var e=Object(O.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(J()),e.prev=1,e.next=4,m.get("/productos");case 4:r=e.sent,t(V(r.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t(Z());case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(b.c)((function(e){return e.productos})),r=t.productos,n=t.error,a=t.loading;return Object($.jsxs)(c.Fragment,{children:[Object($.jsx)("h2",{className:"text-center my-5",children:" Listado de Productos"}),n&&Object($.jsx)("p",{className:"font-weight-bold alert alert-danger text-center mt-4",children:"Hubo un error"}),a&&Object($.jsx)("p",{className:"text-center",children:"Cargando..."}),Object($.jsxs)("table",{className:"table table-striped",children:[Object($.jsx)("thead",{className:"bg-primary table-dark",children:Object($.jsxs)("tr",{children:[Object($.jsx)("th",{scope:"col",children:"Nombre"}),Object($.jsx)("th",{scope:"col",children:"Precio"}),Object($.jsx)("th",{scope:"col",children:"Acciones"})]})}),Object($.jsx)("tbody",{children:0===r.length?Object($.jsx)("tr",{children:Object($.jsx)("th",{className:"bg-white",children:"No hay productos"})}):r.map((function(e){return Object($.jsx)(Y,{producto:e},e.id)}))})]})]})},te=r(15),re=r(40),ce=r(41),ne={productos:[],error:null,loading:!1,productoEliminar:null,productoEditar:null},ae={alerta:null},oe=Object(te.b)({productos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case h:return Object(l.a)(Object(l.a)({},e),{},{loading:t.payload});case x:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,productos:[].concat(Object(ce.a)(e.productos),[t.payload])});case A:case y:case g:case C:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.payload});case N:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,productos:t.payload,error:null});case E:return Object(l.a)(Object(l.a)({},e),{},{productoEliminar:t.payload});case R:return Object(l.a)(Object(l.a)({},e),{},{productos:e.productos.filter((function(t){return t.id!==e.productoEliminar})),productoEliminar:null});case _:return Object(l.a)(Object(l.a)({},e),{},{productoEditar:t.payload});case T:return Object(l.a)(Object(l.a)({},e),{},{productoEditar:null,productos:e.productos.map((function(e){return e.id===t.payload.id?e=t.payload:e}))});default:return e}},alerta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(l.a)(Object(l.a)({},e),{},{alerta:t.payload});case w:return Object(l.a)(Object(l.a)({},e),{},{alerta:null});default:return e}}}),se=Object(te.d)(oe,Object(te.c)(Object(te.a)(re.a),"object"===typeof window&&"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));var ue=function(){return Object($.jsx)(s.a,{children:Object($.jsxs)(b.a,{store:se,children:[Object($.jsx)(z,{}),Object($.jsx)("div",{className:"container mt-5",children:Object($.jsxs)(u.c,{children:[Object($.jsx)(u.a,{exact:!0,path:"/",component:ee}),Object($.jsx)(u.a,{exact:!0,path:"/productos/nuevo",component:W}),Object($.jsx)(u.a,{exact:!0,path:"/productos/editar/:id",component:q})]})})]})})},ie=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,87)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,o=t.getTTFB;r(e),c(e),n(e),a(e),o(e)}))};o.a.render(Object($.jsx)(n.a.StrictMode,{children:Object($.jsx)(ue,{})}),document.getElementById("root")),ie()}},[[86,1,2]]]);
//# sourceMappingURL=main.c84b2a4e.chunk.js.map